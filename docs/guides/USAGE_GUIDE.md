# Liblib æ±½è½¦äº¤é€šæ¨¡å‹åˆ†æå™¨ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…Pythonä¾èµ–
pip install requests pandas numpy

# å¯é€‰ï¼šå®‰è£…Playwrightï¼ˆç”¨äºæµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼‰
pip install playwright
playwright install
```

### 2. åŸºæœ¬ä½¿ç”¨

```bash
# è¿è¡Œå®Œæ•´åˆ†ææµç¨‹
python liblib_car_analyzer.py --all

# æŒ‡å®šè¾“å‡ºç›®å½•
python liblib_car_analyzer.py --all --output my_analysis

# ä½¿ç”¨é…ç½®æ–‡ä»¶
python liblib_car_analyzer.py --all --config config.json
```

## ğŸ“‹ å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `--all` | æ‰§è¡Œå®Œæ•´æµç¨‹ï¼ˆæ¨èï¼‰ | `--all` |
| `--collect` | ä»…æ‰§è¡Œæ•°æ®é‡‡é›† | `--collect` |
| `--download` | ä»…æ‰§è¡Œå›¾ç‰‡ä¸‹è½½ | `--download` |
| `--analyze` | ä»…æ‰§è¡Œæ•°æ®åˆ†æ | `--analyze` |
| `--report` | ä»…ç”Ÿæˆåˆ†ææŠ¥å‘Š | `--report` |
| `--config` | æŒ‡å®šé…ç½®æ–‡ä»¶ | `--config config.json` |
| `--output` | æŒ‡å®šè¾“å‡ºç›®å½• | `--output my_output` |
| `--help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ | `--help` |

## âš™ï¸ é…ç½®è¯´æ˜

### åŸºç¡€é…ç½®

```json
{
  "api_base": "https://api2.liblib.art",
  "base_url": "https://www.liblib.art",
  "output_dir": "liblib_analysis_output",
  "max_workers": 4,
  "timeout": 30,
  "retry_times": 3
}
```

### é«˜çº§é…ç½®

```json
{
  "page_size": 48,
  "max_pages": 10,
  "car_keywords": ["æ±½è½¦", "è·‘è½¦", "SUV"],
  "logging": {
    "level": "INFO",
    "format": "%(asctime)s - %(levelname)s - %(message)s"
  }
}
```

## ğŸ”§ åŠŸèƒ½ç‰¹æ€§

### 1. æ™ºèƒ½æ•°æ®é‡‡é›†
- **APIé‡‡é›†**: é€šè¿‡å®˜æ–¹APIè·å–æ¨¡å‹æ•°æ®
- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: ä½¿ç”¨Playwrightè¿›è¡Œé¡µé¢æ»šåŠ¨å’Œæ•°æ®æå–
- **å…³é”®è¯æœç´¢**: é€šè¿‡æ±½è½¦ç›¸å…³å…³é”®è¯æœç´¢æ¨¡å‹
- **å»é‡å¤„ç†**: è‡ªåŠ¨è¯†åˆ«å’Œå»é™¤é‡å¤æ¨¡å‹

### 2. æ‰¹é‡å›¾ç‰‡ä¸‹è½½
- **å¤šæ ¼å¼æ”¯æŒ**: JPG, PNG, GIF, WebP
- **å¹¶å‘ä¸‹è½½**: å¤šçº¿ç¨‹å¹¶å‘ä¸‹è½½ï¼Œæé«˜æ•ˆç‡
- **é”™è¯¯é‡è¯•**: è‡ªåŠ¨é‡è¯•å¤±è´¥çš„ä¸‹è½½
- **æ–‡ä»¶ç®¡ç†**: æ™ºèƒ½æ–‡ä»¶åç”Ÿæˆå’Œç›®å½•ç»„ç»‡

### 3. æ·±åº¦æ•°æ®åˆ†æ
- **åŸºç¡€ç»Ÿè®¡**: æ¨¡å‹æ•°é‡ã€æµè§ˆé‡ã€ç‚¹èµæ•°ã€ä¸‹è½½é‡
- **ä½œè€…åˆ†æ**: ä½œè€…æ´»è·ƒåº¦æ’è¡Œæ¦œ
- **ç±»å‹åˆ†æ**: æ¨¡å‹ç±»å‹åˆ†å¸ƒç»Ÿè®¡
- **å‚ä¸åº¦åˆ†æ**: ç”¨æˆ·å‚ä¸åº¦è®¡ç®—

### 4. ä¸“ä¸šæŠ¥å‘Šç”Ÿæˆ
- **Markdownæ ¼å¼**: ç»“æ„åŒ–çš„åˆ†ææŠ¥å‘Š
- **æ•°æ®å¯è§†åŒ–**: æ¸…æ™°çš„ç»Ÿè®¡è¡¨æ ¼
- **æ—¶é—´æˆ³è®°å½•**: è‡ªåŠ¨è®°å½•åˆ†ææ—¶é—´
- **å¤šè¯­è¨€æ”¯æŒ**: æ”¯æŒä¸­æ–‡å†…å®¹

## ğŸ“ è¾“å‡ºç»“æ„

```
liblib_analysis_output/
â”œâ”€â”€ images/                    # ä¸‹è½½çš„æ¨¡å‹å›¾ç‰‡
â”œâ”€â”€ data/                      # åŸå§‹æ•°æ®å’Œåˆ†æç»“æœ
â”‚   â”œâ”€â”€ models_data_*.json    # æ¨¡å‹æ•°æ®
â”‚   â””â”€â”€ analysis_results_*.json # åˆ†æç»“æœ
â”œâ”€â”€ reports/                   # åˆ†ææŠ¥å‘Š
â”‚   â””â”€â”€ liblib_car_analysis_*.md
â””â”€â”€ logs/                      # è¿è¡Œæ—¥å¿—
    â””â”€â”€ liblib_analyzer_*.log
```

## ğŸš¨ å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. ç½‘ç»œè¿æ¥é—®é¢˜

**é—®é¢˜**: è¯·æ±‚è¶…æ—¶æˆ–è¿æ¥å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
```bash
# å¢åŠ è¶…æ—¶æ—¶é—´
python liblib_car_analyzer.py --all --config config.json

# åœ¨config.jsonä¸­è°ƒæ•´
{
  "timeout": 60,
  "retry_times": 5,
  "retry_delay": 3
}
```

### 2. å›¾ç‰‡ä¸‹è½½å¤±è´¥

**é—®é¢˜**: éƒ¨åˆ†å›¾ç‰‡ä¸‹è½½å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping liblibai-online.liblib.cloud

# è°ƒæ•´å¹¶å‘æ•°
{
  "max_workers": 2,
  "timeout": 45
}
```

### 3. å†…å­˜ä¸è¶³

**é—®é¢˜**: å¤„ç†å¤§é‡æ•°æ®æ—¶å†…å­˜ä¸è¶³
**è§£å†³æ–¹æ¡ˆ**:
```bash
# å‡å°‘é¡µé¢å¤§å°å’Œæœ€å¤§é¡µæ•°
{
  "page_size": 24,
  "max_pages": 5
}
```

### 4. Playwrightå®‰è£…é—®é¢˜

**é—®é¢˜**: æµè§ˆå™¨è‡ªåŠ¨åŒ–åŠŸèƒ½ä¸å¯ç”¨
**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡æ–°å®‰è£…Playwright
pip uninstall playwright
pip install playwright
playwright install

# æˆ–è€…è·³è¿‡æµè§ˆå™¨é‡‡é›†ï¼Œä»…ä½¿ç”¨API
# ä¿®æ”¹ä»£ç ä¸­çš„collect_data_browserè°ƒç”¨
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ç½‘ç»œä¼˜åŒ–
- ä½¿ç”¨ç¨³å®šçš„ç½‘ç»œè¿æ¥
- é€‚å½“è°ƒæ•´è¶…æ—¶å’Œé‡è¯•å‚æ•°
- è€ƒè™‘ä½¿ç”¨ä»£ç†æœåŠ¡å™¨

### 2. å¹¶å‘ä¼˜åŒ–
- æ ¹æ®ç½‘ç»œå¸¦å®½è°ƒæ•´`max_workers`
- é¿å…è®¾ç½®è¿‡é«˜çš„å¹¶å‘æ•°
- ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ

### 3. å­˜å‚¨ä¼˜åŒ–
- å®šæœŸæ¸…ç†æ—§çš„è¾“å‡ºæ–‡ä»¶
- ä½¿ç”¨SSDå­˜å‚¨æé«˜I/Oæ€§èƒ½
- è€ƒè™‘å‹ç¼©å­˜å‚¨å›¾ç‰‡æ–‡ä»¶

## ğŸ” è°ƒè¯•å’Œç›‘æ§

### 1. æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f liblib_analysis_output/logs/liblib_analyzer_*.log

# æœç´¢é”™è¯¯ä¿¡æ¯
grep "ERROR" liblib_analysis_output/logs/*.log
```

### 2. è¿›åº¦ç›‘æ§
è„šæœ¬è¿è¡Œæ—¶ä¼šæ˜¾ç¤ºè¯¦ç»†çš„è¿›åº¦ä¿¡æ¯ï¼š
```
=== ç¬¬ä¸€é˜¶æ®µ: æ•°æ®é‡‡é›† ===
å¼€å§‹APIæ•°æ®é‡‡é›†...
ç¬¬1é¡µé‡‡é›†åˆ°48ä¸ªæ¨¡å‹
ç¬¬2é¡µé‡‡é›†åˆ°48ä¸ªæ¨¡å‹
APIé‡‡é›†å®Œæˆï¼Œå…±è·å–96ä¸ªæ¨¡å‹

=== ç¬¬äºŒé˜¶æ®µ: å›¾ç‰‡ä¸‹è½½ ===
å¼€å§‹æ‰¹é‡å›¾ç‰‡ä¸‹è½½...
ä¸‹è½½è¿›åº¦: 5/96
ä¸‹è½½è¿›åº¦: 10/96
...
```

### 3. æ€§èƒ½ç›‘æ§
```bash
# ç›‘æ§ç³»ç»Ÿèµ„æº
htop
iotop

# ç›‘æ§ç½‘ç»œè¿æ¥
netstat -an | grep :443
```

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. è¿è¡Œæµ‹è¯•å¥—ä»¶
```bash
python test_liblib_analyzer.py
```

### 2. åŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•æ•°æ®é‡‡é›†
python liblib_car_analyzer.py --collect

# æµ‹è¯•å›¾ç‰‡ä¸‹è½½
python liblib_car_analyzer.py --download

# æµ‹è¯•æ•°æ®åˆ†æ
python liblib_car_analyzer.py --analyze
```

### 3. æ€§èƒ½æµ‹è¯•
```bash
# æµ‹è¯•å¤§æ•°æ®é‡å¤„ç†
# ä¿®æ”¹config.jsonä¸­çš„å‚æ•°è¿›è¡Œå‹åŠ›æµ‹è¯•
{
  "page_size": 100,
  "max_pages": 20,
  "max_workers": 8
}
```

## ğŸ“ˆ æ‰©å±•å’Œå®šåˆ¶

### 1. æ·»åŠ æ–°çš„åˆ†æç»´åº¦
```python
# åœ¨analyze_dataæ–¹æ³•ä¸­æ·»åŠ æ–°çš„ç»Ÿè®¡
def analyze_data(self, models):
    # ... ç°æœ‰ä»£ç  ...
    
    # æ·»åŠ æ–°çš„åˆ†æç»´åº¦
    new_analysis = self._custom_analysis(models)
    analysis_results['custom'] = new_analysis
    
    return analysis_results

def _custom_analysis(self, models):
    # å®ç°è‡ªå®šä¹‰åˆ†æé€»è¾‘
    pass
```

### 2. è‡ªå®šä¹‰æŠ¥å‘Šæ ¼å¼
```python
# ä¿®æ”¹_generate_markdown_reportæ–¹æ³•
def _generate_markdown_report(self, analysis_results):
    # æ·»åŠ è‡ªå®šä¹‰æŠ¥å‘Šå†…å®¹
    report = super()._generate_markdown_report(analysis_results)
    report += "\n## è‡ªå®šä¹‰åˆ†æ\n"
    # ... è‡ªå®šä¹‰å†…å®¹ ...
    return report
```

### 3. é›†æˆå…¶ä»–æ•°æ®æº
```python
# æ·»åŠ æ–°çš„æ•°æ®é‡‡é›†æ–¹æ³•
async def collect_data_from_custom_source(self):
    # å®ç°è‡ªå®šä¹‰æ•°æ®æºé‡‡é›†
    pass
```

## ğŸ¤ è´¡çŒ®å’Œåé¦ˆ

### 1. æŠ¥å‘Šé—®é¢˜
- ä½¿ç”¨è¯¦ç»†çš„é”™è¯¯æè¿°
- æä¾›ç³»ç»Ÿç¯å¢ƒä¿¡æ¯
- é™„ä¸Šç›¸å…³çš„æ—¥å¿—æ–‡ä»¶

### 2. åŠŸèƒ½å»ºè®®
- æè¿°å…·ä½“çš„ä½¿ç”¨åœºæ™¯
- æä¾›å®ç°æ€è·¯
- è€ƒè™‘å‘åå…¼å®¹æ€§

### 3. ä»£ç è´¡çŒ®
- éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦è§LICENSEæ–‡ä»¶ã€‚

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤GitHub Issue
- å‘é€é‚®ä»¶è‡³é¡¹ç›®ç»´æŠ¤è€…
- å‚ä¸é¡¹ç›®è®¨è®º

---

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ  
**ç‰ˆæœ¬**: 1.0.0  
**ç»´æŠ¤è€…**: Liblibåˆ†æé¡¹ç›®å›¢é˜Ÿ
